今天写了一天的权限管理,因为一开始 并不想写的这么麻烦
只是写一个个人博客
想着也许以后还需要 整点别的东西,就先把栏目给动态化了
这栏目动态了,写权限就难受
现在的解决方法是:每次新增栏目时候,整一个以当前模块的控制器名和操作名称为key,value为0的二维数组,然后存在一个文件里面.
用户表里面存 这些控制器名和操作名
每次登陆的时候把用户的权限字段和文件里面的key做比较,isset(控制器名) && isset([控制器名][操作名]) 则 [控制器名][操作名] = 1
然后加载侧边栏目时 就比对 这个权限是否为1,不是就不展示
然后在管理模块的自定义的 Parent控制器 里面检查 当前访问的控制器名和操作名是否 == 1
这样整个权限判断就结束了

一开始只是想写个 简单的博客网站的,结果就想着 啥都加上 明天把 权限配置页面 和 用户统计 和 评论统计 写一下 后天 写 留言系统 最后写 支付系统
希望能30号去面试
Zzz
